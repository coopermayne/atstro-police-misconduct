# AI Content Generation - Visual Workflow

```
                        ğŸ¯ AI CONTENT GENERATION WORKFLOW
                        =================================

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                          â”‚
â”‚  STEP 1: CREATE DRAFT                                                   â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                   â”‚
â”‚                                                                          â”‚
â”‚  ğŸ“ Copy template:                                                       â”‚
â”‚     cp drafts/templates/case-draft-template.md drafts/draft-mycase.md   â”‚
â”‚                                                                          â”‚
â”‚  âœï¸  Fill in:                                                            â”‚
â”‚     â€¢ Case summary/notes                                                 â”‚
â”‚     â€¢ Basic metadata (victim, date, location)                            â”‚
â”‚     â€¢ External media URLs (Dropbox, Drive, etc.)                         â”‚
â”‚     â€¢ Special AI instructions                                            â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                          â”‚
â”‚  STEP 2: RUN PUBLISH COMMAND                                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                            â”‚
â”‚                                                                          â”‚
â”‚  ğŸš€ npm run publish:draft draft-mycase.md                               â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                          â”‚
â”‚  STEP 3: AUTOMATED PROCESSING (5-10 minutes)                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                             â”‚
â”‚                                                                          â”‚
â”‚  3a. ğŸ“‹ Parse Draft                                                      â”‚
â”‚      â””â”€â–º Extract URLs, metadata, instructions                            â”‚
â”‚                                                                          â”‚
â”‚  3b. ğŸ“¥ Download External Files                                          â”‚
â”‚      â”œâ”€â–º Convert Dropbox/Drive links to direct URLs                      â”‚
â”‚      â”œâ”€â–º Download videos (may be large, 30-60s each)                     â”‚
â”‚      â”œâ”€â–º Download images (5-10s each)                                    â”‚
â”‚      â””â”€â–º Download PDFs (10-20s each)                                     â”‚
â”‚                                                                          â”‚
â”‚  3c. â˜ï¸  Upload to Cloudflare                                            â”‚
â”‚      â”œâ”€â–º Videos â†’ Cloudflare Stream (1-2 min each)                       â”‚
â”‚      â”‚    â””â”€â–º Returns: videoId, embedUrl, thumbnailUrl                   â”‚
â”‚      â””â”€â–º Images/PDFs â†’ Cloudflare R2 (5-10s each)                        â”‚
â”‚           â””â”€â–º Returns: public URL, R2 key                                â”‚
â”‚                                                                          â”‚
â”‚  3d. ğŸ¤– AI Analysis                                                      â”‚
â”‚      â”œâ”€â–º Analyze videos (30-60s each)                                    â”‚
â”‚      â”‚    â€¢ Extract key timestamps                                       â”‚
â”‚      â”‚    â€¢ Identify content warnings                                    â”‚
â”‚      â”‚    â€¢ Suggest captions                                             â”‚
â”‚      â”œâ”€â–º Analyze PDFs (30-60s each)                                      â”‚
â”‚      â”‚    â€¢ Extract key information                                      â”‚
â”‚      â”‚    â€¢ Identify important quotes                                    â”‚
â”‚      â”‚    â€¢ Summarize content                                            â”‚
â”‚      â””â”€â–º Generate metadata (30s)                                         â”‚
â”‚           â€¢ case_id, tags, severity                                      â”‚
â”‚           â€¢ investigation_status                                         â”‚
â”‚           â€¢ outcome description                                          â”‚
â”‚                                                                          â”‚
â”‚  3e. âœï¸  AI Article Generation (1-2 minutes)                             â”‚
â”‚      â”œâ”€â–º Write comprehensive case summary                                â”‚
â”‚      â”œâ”€â–º Create timeline of events                                       â”‚
â”‚      â”œâ”€â–º Embed media with proper components                              â”‚
â”‚      â”œâ”€â–º Add content warnings if needed                                  â”‚
â”‚      â”œâ”€â–º Include source citations                                        â”‚
â”‚      â””â”€â–º Format as complete MDX file                                     â”‚
â”‚                                                                          â”‚
â”‚  3f. ğŸ’¾ Save & Archive                                                   â”‚
â”‚      â”œâ”€â–º Generate URL-friendly slug                                      â”‚
â”‚      â”œâ”€â–º Save to /src/content/cases/[slug].mdx                           â”‚
â”‚      â””â”€â–º Move draft to /drafts/published/[date]-[slug].md                â”‚
â”‚                                                                          â”‚
â”‚  3g. ğŸ“¤ Git Operations                                                   â”‚
â”‚      â”œâ”€â–º git add (new article + archived draft)                          â”‚
â”‚      â”œâ”€â–º git commit -m "Publish: [title]"                                â”‚
â”‚      â””â”€â–º git push (triggers Netlify deploy)                              â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                          â”‚
â”‚  STEP 4: REVIEW & DEPLOY (5 minutes)                                     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                               â”‚
â”‚                                                                          â”‚
â”‚  ğŸ‘€ Review generated article:                                            â”‚
â”‚     â€¢ Check metadata accuracy (dates, names, amounts)                    â”‚
â”‚     â€¢ Verify embedded media displays correctly                           â”‚
â”‚     â€¢ Read through content for factual accuracy                          â”‚
â”‚     â€¢ Check content warnings are appropriate                             â”‚
â”‚                                                                          â”‚
â”‚  âœï¸  Edit if needed:                                                     â”‚
â”‚     â€¢ Open /src/content/cases/[slug].mdx                                 â”‚
â”‚     â€¢ Make corrections directly                                          â”‚
â”‚     â€¢ Commit changes                                                     â”‚
â”‚                                                                          â”‚
â”‚  ğŸŒ Automatic Deployment:                                                â”‚
â”‚     â€¢ Netlify detects Git push                                           â”‚
â”‚     â€¢ Builds and deploys automatically                                   â”‚
â”‚     â€¢ Live in ~2 minutes                                                 â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

                            FILE FLOW DIAGRAM

External URLs                    Local Processing              Final Output
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€              â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Dropbox          â”               
share links      â”‚               
                 â”œâ”€â”€â–º Download â”€â”€â–º Cloudflare Stream â”€â”€â–º videoId
Google Drive     â”‚      â†“                                    â†“
share links      â”‚   Analyze                            Embed in
                 â”‚   with AI                             Article
Direct URLs      â”˜      â†“
                     Metadata
                        â†“
Images/Photos    â”€â”€â–º Download â”€â”€â–º Cloudflare R2 â”€â”€â”€â”€â–º Public URL
                                      â†“                    â†“
                                  Categorize           Embed in
                                                        Article

PDFs/Documents   â”€â”€â–º Download â”€â”€â–º Cloudflare R2 â”€â”€â”€â”€â–º Public URL
                        â†“              â†“                    â†“
                    Extract         Store               Link in
                     Text                                Article
                        â†“
                    Analyze
                    with AI


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

                         COMPONENT ARCHITECTURE

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         publish-draft.js                                â”‚
â”‚                         (Main Orchestrator)                             â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚  file-downloader â”‚  â”‚ cloudflare-streamâ”‚  â”‚  cloudflare-r2   â”‚     â”‚
â”‚  â”‚      .js         â”‚  â”‚      .js         â”‚  â”‚      .js         â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚           â”‚                     â”‚                     â”‚               â”‚
â”‚           â”‚                     â”‚                     â”‚               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚                     ai-prompts.js                            â”‚     â”‚
â”‚  â”‚            (Analysis & Generation Prompts)                    â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                 â”‚                                      â”‚
â”‚                                 â–¼                                      â”‚
â”‚                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚
â”‚                          â”‚   OpenAI    â”‚                               â”‚
â”‚                          â”‚   GPT-4     â”‚                               â”‚
â”‚                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

                           TIME BREAKDOWN

Typical case with 2 videos, 3 images, 1 PDF:

  Parse draft                    < 1 second
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Download video 1 (50MB)        ~45 sec
  Download video 2 (30MB)        ~30 sec
  Download images (3x)           ~15 sec
  Download PDF (5MB)             ~5 sec
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Upload video 1 to Stream       ~90 sec
  Upload video 2 to Stream       ~60 sec
  Upload images to R2            ~15 sec
  Upload PDF to R2               ~5 sec
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  AI analyze video 1             ~45 sec
  AI analyze video 2             ~45 sec
  AI analyze PDF                 ~30 sec
  AI generate metadata           ~30 sec
  AI write article               ~90 sec
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Save files & git operations    ~10 sec
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  TOTAL:                         ~8 minutes

  Manual writing equivalent:     ~2-3 hours
  Time saved:                    ~95%


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

                         SUCCESS INDICATORS

âœ… Draft successfully parsed
âœ… All media files downloaded
âœ… Videos uploaded to Cloudflare Stream (video IDs returned)
âœ… Images/PDFs uploaded to R2 (public URLs returned)
âœ… AI analysis completed without errors
âœ… Article generated with proper frontmatter
âœ… Saved to /src/content/cases/[slug].mdx
âœ… Draft archived to /drafts/published/
âœ… Git commit and push successful
âœ… Netlify deployment triggered

View your new article at: /cases/[slug]


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```
